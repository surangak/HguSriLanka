<!--
  ~ The contents of this file are subject to the OpenMRS Public License
  ~ Version 1.0 (the "License"); you may not use this file except in
  ~ compliance with the License. You may obtain a copy of the License at
  ~ http://license.openmrs.org
  ~
  ~ Software distributed under the License is distributed on an "AS IS"
  ~ basis, WITHOUT WARRANTY OF ANY KIND, either express or implied. See the
  ~ License for the specific language governing rights and limitations
  ~ under the License.
  ~
  ~ Copyright (C) OpenMRS, LLC.  All Rights Reserved.
  -->
 
<htmlform formUuid="a000cb34-9ec1-4344-a1c8-f692232f6edd" formName="hgu" formEncounterType="67a71486-1a54-468f-ac3e-7091a9a79584" formVersion="1.0">

<script>

window.pedexIsReady = function() {
console.log("Js Pedigree is ready");

var v = getValue("XML.value");
window.setStateXML(window.atob(v));

jQuery(function() {
       $('pedigree').visible()
      {
       window.alert("akshika");
}
   

});
}

</script>
<script type="text/javascript" src="../../moduleResources/hgu/scripts/jspedigrees/jspedigrees.nocache.js"></script>
          <script type="text/javascript" src="../../moduleResources/hgu/scripts/jspedigrees-view/jspedigrees.nocache.js"></script> 
          <script type="text/javascript" src="../../moduleResources/hgu/scripts/jquery.form.js"></script> 

<style>
        #calculated-bmi {
            font-weight: bold;
            font-size: 1.4em;
        }
 
        .encounter-summary-container #calculated-bmi {
            font-size: 1em;
            font-weight: normal;
        }
#clinicians_name > input{
width:200px;
}
    </style>
 
    <div class="hidden" id="encounter-details" sectionTag="section" headerStyle="title" headerLabel="Encounter Details">
        <fieldset>
            <legend>When?</legend>
            <label>When?</label>
 
            <encounterDate default="now" showTime="false"/>
        </fieldset>
 
        <fieldset>
            <legend>Who?</legend>
            <label>Who?</label>
 
            <encounterProviderAndRole default="currentUser" encounterRole="240b26f9-dd88-4172-823d-4a8bfeb7841f" required="true"/>
        </fieldset>
 
        <fieldset>
            <legend>Where?</legend>
            <label>Where?</label>
 
            <encounterLocation default="SessionAttribute:emrContext.sessionLocationId"/>
        </fieldset>
    </div>
 
    <section id="provider_section" sectionTag="section" headerStyle="title" headerCode="Provider">
   
        <fieldset>
         <legend>provider</legend>
            <h3>provider</h3>
 
            <p class="left">
                <obs conceptId="163142" id="provider" />
            </p>
 
        </fieldset>
 
                
    </section>
   
   
    <section id="refereed_by_section" sectionTag="section" headerStyle="title" headerCode="Refereed by">
   
        <fieldset>
            <legend>Clinicians Name</legend>
            <h3>Clinicians Name</h3>         
            <p class="left">
                <obs conceptId="163142" id="clinicians_name"/>
            </p>
        </fieldset>

       <fieldset>
            <legend>Specialty</legend>
            <h3>Specialty</h3>         
            <p class="left">
                <obs conceptId="163142" id="specialty"/>
            </p>
        </fieldset>

       <fieldset>
            <legend>Station</legend>
            <h3>Station</h3>         
            <p class="left">
                <obs conceptId="163142" id="station"/>
            </p>
        </fieldset>
       <fieldset>
            <legend>Contact Number</legend>
            <h3>Contact Number</h3>         
            <p class="left">
                <obs conceptId="163142" id="contact_number"/>
            </p>
        </fieldset>
       <fieldset>
            <legend>Indication</legend>
            <h3>Indication</h3>         
            <p class="left">
                <obs conceptId="163142" id="indication"/>
            </p>
        </fieldset>        
    </section>
   
 <section id="clinicians_notes_section" sectionTag="section" headerStyle="title" headerCode="Clinicians Notes">

 <fieldset>
            <legend>Clinicians Note</legend>
            <h3>Clinicians Note</h3>         
            <p class="left">
                <obs conceptId="163142" id="clinicians_notes"/>
            </p>
        </fieldset>

  </section>
  
<section id="management_section" sectionTag="section" headerStyle="title" headerCode="Management">

      <fieldset>
            <legend>Counselling Notes</legend>
            <h3>Counselling Notes</h3>         
            <p class="left">
                <obs conceptId="163142" id="Counselling Notes"/>
            </p>
        </fieldset>


      <fieldset>
            <legend>Tests</legend>
            <h3>Tests</h3>         
            <p class="left">
               <obs conceptId="163142"  labelText="Tests" answers="0,1,2" answerLabels="Test1,Test2,Test3" style="dropdown"/>
               
               <!-- 
              Should add the feature to add multiple tests
               -->


            </p>
        </fieldset>
   
</section>
 
<section id="samples_section" sectionTag="section" headerStyle="title" headerCode="Samples">

 <fieldset>
            <legend>Samples</legend>
            <h3>Samples</h3>         
            <p class="left">
                 <h4>Report is Ready</h4>
               <obs conceptId="163142" labelText="" answers="0,1" answerLabels="Yes,No" style="radio" answerSeparator="" />
                 <h4>Patient informed</h4>
               <obs conceptId="163142" labelText="" answers="0,1" answerLabels="Yes,No" style="radio" answerSeparator="" />
                <h4>Report has been issued to the patient</h4>                 
               <obs conceptId="163142" labelText="" answers="0,1" answerLabels="Yes,No" style="radio" answerSeparator="" /> </p>
        </fieldset>

 </section>

<section id="next_visit_notes_section" sectionTag="section" headerStyle="title" headerCode="Next Visit Notes">

 <fieldset>
            <legend>Next Visit Date</legend>
            <h3>Next Visit Date</h3>         
            <p class="left">
                 <encounterDate default="today"/>
            </p>
        </fieldset>
 <fieldset>
            <legend>Counselling Notes</legend>
            <h3>Counselling Notes</h3>         
            <p class="left">
                <obs conceptId="163142" id="Counselling Notes"/>
            </p>
        </fieldset>
 </section>

<div style="display: none;">
<obs conceptId="163141" id="XML"/>
</div>

<div id ="ped">
<section id="pedigree" sectionTag="section" headerStyle="title" headerCode="Pedigree Drawing">

 <fieldset id="pedigree">
       <legend>Pedigree Drawing Tool</legend>
      <table>
      <tr><td ><b>5.0 Family History</b> </td><td></td></tr>
       <tr><td>5.2 Pedigree chart (Please draw a 3 generation pedigree and indicate affected members if known)</td><td></td></tr>
       <tr><td colspan="2"  id="jsPedigreesContainer" height="600px" width="200px"></td></tr>
       </table>
</fieldset>

 </section>

</div>

<script type="text/javascript">
beforeValidation.push(function() {
var val = window.getStateXML();
val = window.btoa(val);
setValue("XML.value",val);
    if (val == null || val == '') {
          return false;
    }
    return true;
});
</script>
 <submit/>
 
</htmlform>